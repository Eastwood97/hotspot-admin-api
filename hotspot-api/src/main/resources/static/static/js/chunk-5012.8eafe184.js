(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5012"],{Uqw0:function(e,t,i){"use strict";i.r(t);var n=i("t3Un");var a=i("X4fA"),l={data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-6048e5),e.$emit("pick",[i,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-2592e6),e.$emit("pick",[i,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-7776e6),e.$emit("pick",[i,t])}}]},dialogImageUrl:"",multipleSelection:[],advanceSearchViewVisible:!1,picURL:"http://192.168.244.3:9222/",count:1,list:[],total:0,timeZone:"",listLoading:!0,listQuery:{page:1,limit:10,startTime:"",endTime:" ",id:void 0},downloadLoading:!1}},computed:{headers:function(){return{"X-Litemall-Admin-Token":Object(a.a)()}}},created:function(){this.getList()},methods:{handleSizeChange:function(e){this.listQuery.limit=e,this.getList()},currentChange:function(e){this.listQuery.page=e,this.getList()},chooseTimeRange:function(e){this.listQuery.startTime=e[0],this.listQuery.endTime=e[1]},getList:function(){var e=this;this.listLoading=!0,function(e){return Object(n.a)({url:"/cameraCatInfo",method:"get",params:e})}(this.listQuery).then(function(t){e.list=t.data.data.list,e.total=t.data.data.total,e.listLoading=!1}).catch(function(){e.list=[],e.total=0,e.listLoading=!1})},handleFilter:function(){this.listQuery.page=1,this.getList()},emptyListQuery:function(){this.listQuery={page:1,limit:20,timeZone:"",id:void 0}},cancelSearch:function(){this.advanceSearchViewVisible=!1,this.emptyListQuery(),this.beginDateScope="",this.getList()},handleSelectionChange:function(e){this.multipleSelection=e},doDelete:function(e){this.tableLoading=!0;var t=this;(function(e){return Object(n.a)({url:"/cameraCatInfo",method:"delete",data:e})})(e).then(function(e){t.tableLoading=!1,e&&200===e.status&&(t.$message({msg:"删除成功",type:"sucess"}),t.getList())})},deleteManyNumbers:function(){var e=this;this.$confirm("此操作将删除["+this.multipleSelection.length+"]条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var t="",i=0;i<e.multipleSelection.length;i++)t+=e.multipleSelection[i].id+",";e.doDelete(t)}).catch(function(){})},deleteNumber:function(e){var t=this;this.$confirm("此操作将永久删除["+e.id+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.doDelete(e.id)}).catch(function(){})},handleDownload:function(){var e=this;this.downloadLoading=!0,Promise.all([i.e("chunk-0d49"),i.e("chunk-7fdf")]).then(i.bind(null,"S/jZ")).then(function(t){t.export_json_to_excel2(["目标ID","目标名称","imsi","imei","号码","创建时间","更新时间","操作人id","描述"],e.list,["targetId","targetName","imsi","imei","isdn","createTime","updateTime","operatorId","desc"],"布控号码信息"),e.downloadLoading=!1})}}},o=(i("zL/p"),i("KHd+")),r=Object(o.a)(l,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("div",{staticClass:"filter-item"},[i("el-date-picker",{attrs:{"picker-options":e.pickerOptions,"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},on:{change:e.chooseTimeRange},model:{value:e.timeZone,callback:function(t){e.timeZone=t},expression:"timeZone"}})],1),e._v(" "),i("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleFilter}},[e._v("查找")])],1),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"正在查询中。。。",border:"","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"ID",prop:"id"}}),e._v(" "),i("el-table-column",{attrs:{align:"center","min-width":"150px",label:"场景图",prop:"sceneStorageUrl"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.sceneStorageUrl?i("img",{attrs:{src:e.picURL+t.row.sceneStorageUrl,width:"80",preview:"1","preview-text":"场景图"}}):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center","min-width":"150px",label:"抓拍人脸",prop:"captureFaceStorageUrl"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.captureFaceStorageUrl?i("img",{attrs:{src:e.picURL+t.row.captureFaceStorageUrl,width:"80",preview:"1","preview-text":"抓拍人脸"}}):e._e()]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"设备id",prop:"devId"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"视频id",prop:"videoId"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"属性",prop:"quality"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.quality?i("span",[e._v("普通")]):i("span",[e._v("目标")])]}}])}),e._v(" "),i("el-table-column",{attrs:{align:"center","min-width":"150px",label:"抓拍时间",prop:"captureTime"}}),e._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作",width:"200","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){e.deleteNumber(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),i("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[e.list.length>0?i("el-button",{attrs:{disabled:0==e.multipleSelection.length,type:"danger",size:"mini"},on:{click:e.deleteManyNumbers}},[e._v("批量删除")]):e._e(),e._v(" "),i("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,"page-sizes":[5,10,20,100],page:e.listQuery.page,limit:e.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:page":function(t){e.$set(e.listQuery,"page",t)},"update:limit":function(t){e.$set(e.listQuery,"limit",t)},"current-change":e.currentChange,"size-change":e.handleSizeChange}})],1)],1)},[],!1,null,null,null);t.default=r.exports},gCLo:function(e,t,i){},"zL/p":function(e,t,i){"use strict";var n=i("gCLo");i.n(n).a}}]);