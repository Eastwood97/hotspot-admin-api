(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-81db"],{COsC:function(t,e,i){},cWdU:function(t,e,i){"use strict";var n=i("COsC");i.n(n).a},o2z4:function(t,e,i){"use strict";i.r(e);var n=i("t3Un");var a=i("X4fA"),l={data:function(){return{haveTarget:!1,pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-6048e5),t.$emit("pick",[i,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-2592e6),t.$emit("pick",[i,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-7776e6),t.$emit("pick",[i,e])}}]},multipleSelection:[],picURL:"http://192.168.2.14:9222/",count:1,list:[],total:0,timeZone:"",listLoading:!0,listQuery:{plateNumber:"",page:1,limit:10,startTime:"",endTime:" ",id:void 0}}},computed:{headers:function(){return{"X-Litemall-Admin-Token":Object(a.a)()}}},created:function(){this.getList()},methods:{handleSizeChange:function(t){this.listQuery.limit=t,this.getList()},currentChange:function(t){this.listQuery.page=t,this.getList()},chooseTimeRange:function(t){this.listQuery.startTime=t[0],this.listQuery.endTime=t[1]},getList:function(){var t=this;this.listLoading=!0,function(t){return Object(n.a)({url:"/captureCar",method:"get",params:t})}(this.listQuery).then(function(e){t.list=e.data.data.list,t.total=e.data.data.total,t.listLoading=!1}).catch(function(){t.list=[],t.total=0,t.listLoading=!1})},handleFilter:function(){this.listQuery.page=1,this.getList()},handleSelectionChange:function(t){this.multipleSelection=t},doDelete:function(t){var e=this;this.tableLoading=!0;var i=this;(function(t){return Object(n.a)({url:"/captureCar",method:"delete",data:t})})(t).then(function(t){i.tableLoading=!1,t&&200==t.status&&(e.$notify.success({title:"成功",message:"删除成功"}),i.getList())}).catch(function(t){e.$notify.error({title:"失败",message:"删除失败"})})},deleteManyNumbers:function(){var t=this;this.$confirm("此操作将删除["+this.multipleSelection.length+"]条数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){for(var e="",i=0;i<t.multipleSelection.length;i++)e+=t.multipleSelection[i].id+",",console.log(e);t.doDelete(e)}).catch(function(){})},deleteNumber:function(t){var e=this;this.$confirm("此操作将永久删除["+t.plateNumber+"], 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.doDelete(t.id)}).catch(function(){})}}},r=(i("cWdU"),i("KHd+")),o=Object(r.a)(l,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入目标车牌"},model:{value:t.listQuery.plateNumber,callback:function(e){t.$set(t.listQuery,"plateNumber",e)},expression:"listQuery.plateNumber"}}),t._v(" "),i("div",{staticClass:"filter-item"},[i("el-date-picker",{attrs:{"picker-options":t.pickerOptions,"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right"},on:{change:t.chooseTimeRange},model:{value:t.timeZone,callback:function(e){t.timeZone=e},expression:"timeZone"}})],1),t._v(" "),i("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.handleFilter}},[t._v("查找")])],1),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,"element-loading-text":"正在查询中。。。",border:"","highlight-current-row":""},on:{"selection-change":t.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"ID",prop:"id"}}),t._v(" "),i("el-table-column",{attrs:{align:"center","min-width":"150px",label:"抓拍车牌",prop:"captureCarStorageUrl"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.captureCarStorageUrl?i("img",{attrs:{src:t.picURL+e.row.captureCarStorageUrl,width:"80",preview:"1","preview-text":"抓拍车牌"}}):t._e()]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"车牌号",prop:"plateNumber"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"设备id",prop:"devId"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"属性",prop:"isTarget"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.quality?i("span",[t._v("普通")]):i("span",[t._v("目标")])]}}])}),t._v(" "),i("el-table-column",{attrs:{align:"center","min-width":"150px",label:"抓拍时间",prop:"captureTime"}}),t._v(" "),i("el-table-column",{attrs:{align:"center",label:"操作",width:"200","class-name":"small-padding fixed-width"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{attrs:{type:"danger",size:"mini"},on:{click:function(i){t.deleteNumber(e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),i("div",{staticStyle:{display:"flex","justify-content":"space-between",margin:"2px"}},[t.list.length>0?i("el-button",{attrs:{disabled:0==t.multipleSelection.length,type:"danger",size:"mini"},on:{click:t.deleteManyNumbers}},[t._v("批量删除")]):t._e(),t._v(" "),i("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,"page-sizes":[5,10,20,100],page:t.listQuery.page,limit:t.listQuery.limit,layout:"total, sizes, prev, pager, next, jumper"},on:{"update:page":function(e){t.$set(t.listQuery,"page",e)},"update:limit":function(e){t.$set(t.listQuery,"limit",e)},"current-change":t.currentChange,"size-change":t.handleSizeChange}})],1)],1)},[],!1,null,null,null);e.default=o.exports}}]);